<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programme de Je√ªne 21 Jours - 2026</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #2C3E50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #7F8C8D;
            font-size: 1.2em;
        }

        .progress-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .progress-bar {
            height: 30px;
            background: #ECF0F1;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27AE60, #2ECC71);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .days-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .day-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            position: relative;
        }

        .day-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .day-card.completed {
            background: linear-gradient(135deg, #27AE60, #2ECC71);
            color: white;
        }

        .day-card.completed .day-number {
            color: white;
        }

        .day-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #2980B9;
            margin-bottom: 5px;
        }

        .day-theme {
            font-size: 0.9em;
            color: #7F8C8D;
        }

        .day-card.completed .day-theme {
            color: white;
        }

        .check-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5em;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }

        .modal-content {
            background: white;
            max-width: 800px;
            margin: 50px auto;
            border-radius: 20px;
            padding: 40px;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2em;
            cursor: pointer;
            color: #7F8C8D;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: #2C3E50;
        }

        .modal-header {
            margin-bottom: 30px;
        }

        .modal-day-number {
            color: #2980B9;
            font-size: 1.2em;
            font-weight: bold;
        }

        .modal-theme {
            color: #2C3E50;
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .section {
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #2C3E50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-content {
            color: #34495E;
            line-height: 1.8;
            padding: 15px;
            background: #F8F9FA;
            border-radius: 10px;
            border-left: 4px solid #2980B9;
        }

        .section-content.rappel {
            background: #FFF3E0;
            border-left-color: #E67E22;
            color: #D35400;
        }

        .section-content.versets {
            background: #E8F5E9;
            border-left-color: #27AE60;
            color: #27AE60;
            font-style: italic;
        }

        .video-link {
            display: inline-block;
            background: #E74C3C;
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            margin-top: 10px;
            transition: background 0.3s;
        }

        .video-link:hover {
            background: #C0392B;
        }

        .notes-section {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #ECF0F1;
        }

        .notes-textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #ECF0F1;
            border-radius: 10px;
            font-family: inherit;
            font-size: 1em;
            resize: vertical;
        }

        .notes-textarea:focus {
            outline: none;
            border-color: #2980B9;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #27AE60, #2ECC71);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-secondary {
            background: #ECF0F1;
            color: #2C3E50;
        }

        .btn-secondary:hover {
            background: #BDC3C7;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            color: #2980B9;
        }

        .stat-label {
            color: #7F8C8D;
            font-size: 1em;
            margin-top: 10px;
        }

        .emoji {
            font-size: 1.5em;
            margin-right: 5px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .days-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }

            .modal-content {
                padding: 20px;
                margin: 20px auto;
            }

            .modal-theme {
                font-size: 1.5em;
            }
        }

        .export-btn {
            background: #3498DB;
            color: white;
        }

        .export-btn:hover {
            background: #2980B9;
        }

        .day-card.customizable {
            border: 2px dashed #E67E22;
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
        }

        .day-card.customizable:hover {
            border-color: #D35400;
        }

        .customizable-badge {
            background: #E67E22;
            color: white;
            font-size: 0.7em;
            padding: 3px 8px;
            border-radius: 10px;
            margin-top: 5px;
            display: inline-block;
        }

        .custom-input-section {
            background: #FFF3E0;
            padding: 20px;
            border-radius: 10px;
            border: 2px dashed #E67E22;
            margin-bottom: 20px;
        }

        .custom-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #E67E22;
            border-radius: 8px;
            font-family: inherit;
            font-size: 1em;
            margin-top: 10px;
            resize: vertical;
        }

        .custom-input:focus {
            outline: none;
            border-color: #D35400;
            background: white;
        }

        .resources-section {
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #27AE60;
        }

        .resource-buttons {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .resource-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .resource-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .youtube-btn {
            background: #FF0000;
            color: white;
        }

        .spotify-btn {
            background: #1DB954;
            color: white;
        }

        .save-custom-btn {
            background: #E67E22;
            color: white;
        }

        .save-custom-btn:hover {
            background: #D35400;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üôè Programme de Je√ªne 21 Jours</h1>
            <p>D√©buter l'ann√©e 2026 avec une fondation spirituelle solide</p>
        </div>

        <!-- Stats -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number" id="completedDays">0</div>
                <div class="stat-label">Jours accomplis</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="remainingDays">21</div>
                <div class="stat-label">Jours restants</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="progressPercent">0%</div>
                <div class="stat-label">Progression</div>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <h3 style="margin-bottom: 15px; color: #2C3E50;">üìä Votre progression</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%">0%</div>
            </div>
        </div>

        <!-- Days Grid -->
        <div class="days-grid" id="daysGrid"></div>

        <!-- Export Button -->
        <div style="text-align: center; margin-top: 30px;">
            <button class="btn export-btn" onclick="exportNotes()">üì• Exporter mes notes en PDF</button>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <div class="modal-day-number" id="modalDayNumber"></div>
                <div class="modal-theme" id="modalTheme"></div>
            </div>

            <div id="modalBody"></div>

            <div class="notes-section">
                <div class="section-title">
                    <span class="emoji">üìù</span>
                    <span>Mes notes personnelles</span>
                </div>
                <textarea class="notes-textarea" id="notesTextarea" placeholder="√âcrivez vos r√©flexions, pri√®res, r√©v√©lations re√ßues..."></textarea>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="toggleDayCompletion()">
                    <span id="completionBtnText">‚úì Marquer comme accompli</span>
                </button>
                <button class="btn btn-secondary" onclick="saveNotes()">üíæ Sauvegarder mes notes</button>
                <button class="btn btn-secondary" onclick="closeModal()">Fermer</button>
            </div>
        </div>
    </div>

    <script>
        const programData = [
            {
                jour: 1,
                theme: "Action de gr√¢ce",
                objectif: "Remercier Dieu pour ses bienfaits de l'ann√©e pass√©e : la vie, la famille, la sant√©, les finances, les relations, etc. Remercier Dieu parce qu'il est Dieu.",
                rappel: "M√™me si l'ann√©e laisse un go√ªt amer, il est essentiel d'√™tre reconnaissant pour les aspects de notre vie o√π nous avons √©t√© b√©nis.",
                action: "Dressez une liste √©crite des b√©n√©dictions re√ßues en 2025. Relisez votre ann√©e pour identifier les moments de gr√¢ce divine et remerciez Dieu nominativement pour chaque personne qui a marqu√© positivement votre vie.",
                versets: "Psaume 100:4-5 ‚Ä¢ Psaume 103:1-5 ‚Ä¢ 1 Thessaloniciens 5:16-18 ‚Ä¢ Colossiens 3:15-17"
            },
            {
                jour: 2,
                theme: "Repentance",
                objectif: "√âcrire une nouvelle page et effacer les accusations qui p√®sent contre nous dans le monde spirituel.",
                rappel: "Nous p√©chons par actions volontaires ou involontaires, par subconscient, par d√©sob√©issance. La repentance nous indique ce sur quoi travailler pour d√©velopper les fruits de l'Esprit.",
                action: "Listez devant Dieu les p√©ch√©s dont vous vous souvenez et nommez-les clairement. Confessez-les sp√©cifiquement, recevez le pardon de Christ, et identifiez les domaines de transformation n√©cessaires pour marcher dans la saintet√© cette ann√©e.",
                versets: "1 Jean 1:9 ‚Ä¢ Psaume 51:1-12 ‚Ä¢ Psaume 32:5 ‚Ä¢ Actes 3:19 ‚Ä¢ 2 Chroniques 7:14",
                video: {
                    title: "The Courts of Heaven - Robert Henderson",
                    url: "https://www.youtube.com/watch?v=tWZHWh5fbVM&t=5s"
                }
            },
            {
                jour: 3,
                theme: "Invitation du Saint-Esprit",
                objectif: "Solliciter l'assistance du Saint-Esprit et lui √™tre sensible, pour avoir un temps de je√ªne en accord avec la vision de Dieu pour nous.",
                rappel: "L'Esprit sonde tout, m√™me les profondeurs de Dieu (1 Corinthiens 2:10). Sans sa direction, nous risquons de prier selon nos d√©sirs plut√¥t que selon sa volont√©.",
                action: "Invitez explicitement le Saint-Esprit √† guider chaque jour de votre je√ªne. Cr√©ez des moments de silence pour l'√©couter. Soyez attentif aux impressions, aux √âcritures qui vous interpellent, et aux directions qu'il souhaite vous donner pour cette ann√©e.",
                versets: "Jean 14:26 ‚Ä¢ Jean 14:16-17 ‚Ä¢ Jean 16:13 ‚Ä¢ Actes 1:8 ‚Ä¢ Romains 8:26-27"
            },
            {
                jour: 4,
                theme: "Gu√©rison de l'√¢me",
                objectif: "Sortir des prisons int√©rieures et des blessures de l'√¢me accumul√©es l'ann√©e pass√©e.",
                rappel: "Le c≈ìur n'a pas √©t√© cr√©√© pour garder la ranc≈ìur mais pour fonctionner avec l'amour. Pardonner ne veut pas dire renoncer √† la justice.",
                action: "Identifiez les personnes et situations qui ont bless√© votre √¢me en 2025. Nommez les offenses devant Dieu, choisissez consciemment de pardonner, et d√©posez √† Christ vos fardeaux. Demandez-lui de gu√©rir les blessures profondes et de restaurer votre capacit√© √† aimer.",
                versets: "1 Pierre 2:24 ‚Ä¢ Matthieu 6:14-15 ‚Ä¢ √âsa√Øe 53:4-5 ‚Ä¢ Psaume 147:3 ‚Ä¢ √âph√©siens 4:31-32",
                video: {
                    title: "Le protocole divin pour gu√©rir de la d√©pression ‚Äì Ap√¥tre Yvan Castanou (Impact X)",
                    url: "https://www.youtube.com/results?search_query=protocole+divin+depression+yvan+castanou"
                }
            },
            {
                jour: 5,
                theme: "Combat spirituel et d√©livrance",
                objectif: "Se lib√©rer des liens spirituels et des forteresses mentales qui ont entrav√© votre avancement en 2025, et poser des fondations solides pour la nouvelle ann√©e.",
                rappel: "Nous ne luttons pas contre la chair et le sang, mais contre les dominations spirituelles. Cette √©tape n'est pas un combat prolong√©, mais une d√©claration d'autorit√© en Christ pour entrer dans l'ann√©e avec libert√© et clart√©.",
                action: "Identifiez les sch√©mas r√©p√©titifs de d√©faite, les pens√©es n√©gatives persistantes, et les blocages inexpliqu√©s. D√©clarez votre position en Christ et reprenez l'autorit√© qui vous a √©t√© donn√©e sur toute puissance de l'ennemi.",
                versets: "√âph√©siens 6:10-18 ‚Ä¢ 2 Corinthiens 10:3-5 ‚Ä¢ 1 Pierre 5:8-9 ‚Ä¢ Jacques 4:7 ‚Ä¢ Luc 10:19"
            },
            {
                jour: 6,
                theme: "Renouvellement de la pens√©e",
                objectif: "Demander √† marcher dans l'amour de Dieu et solliciter du Seigneur la gr√¢ce de l'aimer. Ce qui nous transforme, c'est de suivre Christ.",
                rappel: "Celui qui a mes commandements et qui les garde, c'est celui qui m'aime (Jean 14:21). Les personnes qui croient ne sont pas n√©cessairement transform√©es, ce qui transforme, c'est de suivre.",
                action: "Identifiez les sch√©mas de pens√©e toxiques ou contraires √† la Parole. Remplacez-les consciemment par les pens√©es de Christ. Demandez la gr√¢ce d'aimer Dieu davantage et de lui ob√©ir, non par obligation, mais par amour. M√©ditez quotidiennement sur ses commandements.",
                versets: "Romains 12:1-2 ‚Ä¢ Jean 8:31-32 ‚Ä¢ 2 Corinthiens 3:18 ‚Ä¢ Philippiens 4:8 ‚Ä¢ Colossiens 3:1-10"
            },
            {
                jour: 7,
                theme: "Vision et direction divine",
                objectif: "Recevoir du Seigneur sa vision pour votre ann√©e. C'est l'occasion de lui pr√©senter votre bilan de l'ann√©e pass√©e et votre vision pour l'ann√©e √† venir.",
                rappel: "Nous avons tous une mission √† accomplir sur terre. Restez √† l'√©coute de Dieu et ne vous focalisez pas uniquement sur vos projections personnelles.",
                action: "Pr√©sentez √† Dieu un bilan honn√™te de 2025 (r√©ussites, √©checs, le√ßons apprises). Exposez-lui vos projets pour 2026, puis demandez-lui : 'Quelle est TA vision pour moi cette ann√©e ?'. Notez les impressions, paroles proph√©tiques ou directions qu'il vous donne. Alignez vos plans sur sa volont√©.",
                versets: "J√©r√©mie 29:11 ‚Ä¢ Proverbes 29:18 ‚Ä¢ Habakuk 2:2-3 ‚Ä¢ √âph√©siens 2:10 ‚Ä¢ Philippiens 3:13-14"
            },
            {
                jour: 8,
                theme: "Ob√©issance : la gr√¢ce d'ob√©ir",
                objectif: "Obtenir la gr√¢ce du discernement et d√©velopper son sens de l'ob√©issance au Saint-Esprit.",
                rappel: "Faites tout ce qu'il vous dira (Jean 2:5). Non seulement croire mais demeurer. Ce qu'Il dit de faire, fais-le. Tant qu'on ne fait pas ce que Dieu nous demande, on ne lui donne pas la place pour intervenir.",
                action: "Identifiez les directives que Dieu vous a d√©j√† donn√©es mais que vous n'avez pas encore ex√©cut√©es. D√©cidez de lui ob√©ir sans compter sur votre propre force. Demandez-lui la gr√¢ce d'entendre clairement sa voix et le courage d'agir imm√©diatement quand il parle.",
                versets: "Jean 14:15 ‚Ä¢ Jacques 1:22-25 ‚Ä¢ 1 Samuel 15:22 ‚Ä¢ Deut√©ronome 28:1-2 ‚Ä¢ Luc 6:46-49",
                video: {
                    title: "The power of complete obedience ‚Äì Apostle Joshua Selman",
                    url: "https://www.youtube.com/watch?v=ZYymscAIhcw"
                }
            },
            {
                jour: 9,
                theme: "[Th√®me personnalis√©]",
                customizable: true,
                objectif: "",
                rappel: "",
                action: "",
                versets: ""
            },
            {
                jour: 10,
                theme: "[Th√®me personnalis√©]",
                customizable: true,
                objectif: "",
                rappel: "",
                action: "",
                versets: ""
            },
            {
                jour: 11,
                theme: "[Th√®me personnalis√©]",
                customizable: true,
                objectif: "",
                rappel: "",
                action: "",
                versets: ""
            },
            {
                jour: 12,
                theme: "[Th√®me personnalis√©]",
                customizable: true,
                objectif: "",
                rappel: "",
                action: "",
                versets: ""
            },
            {
                jour: 13,
                theme: "D√©claration proph√©tique - Croyances",
                objectif: "D√©clarer sur vos croyances, votre mindset et votre relation avec Dieu.",
                rappel: "Nous devenons ce que nous croyons. Nos paroles ont le pouvoir de cr√©er notre r√©alit√© spirituelle.",
                action: "D√©clarez √† voix haute : 'Je crois en la fid√©lit√© de Dieu. Je renouvelle mon engagement √† la pri√®re quotidienne, √† l'√©tude biblique et aux temps de retraite spirituelle. Ma foi grandira cette ann√©e.'",
                versets: "Proverbes 23:7 ‚Ä¢ Psaume 63:1-8 ‚Ä¢ Marc 11:22-24 ‚Ä¢ Matthieu 17:20 ‚Ä¢ H√©breux 11:6"
            },
            {
                jour: 14,
                theme: "D√©claration proph√©tique - Projets",
                objectif: "D√©clarer sur vos projets et vos finances.",
                rappel: "Dieu pourvoit √† tous nos besoins selon sa richesse, avec gloire, en J√©sus-Christ (Philippiens 4:19).",
                action: "Pr√©sentez vos projets √† Dieu (voiture, immobilier, business, carri√®re). D√©clarez : 'Mes projets prosp√®rent car Dieu les dirige. Mes finances sont entre les mains de Dieu. Il ouvre les portes que personne ne peut fermer.'",
                versets: "Proverbes 16:3 ‚Ä¢ Philippiens 4:19 ‚Ä¢ Matthieu 6:33 ‚Ä¢ 3 Jean 1:2 ‚Ä¢ Malachie 3:10-12",
                video: {
                    title: "Effective prayer dynamics ‚Äì Apostle Joshua Selman",
                    url: "https://www.youtube.com/watch?v=3dlKIjEyzcs"
                }
            },
            {
                jour: 15,
                theme: "D√©claration proph√©tique - Famille",
                objectif: "D√©clarer sur votre famille et votre vie sentimentale.",
                rappel: "Si l'√âternel ne b√¢tit la maison, ceux qui la b√¢tissent travaillent en vain (Psaume 127:1).",
                action: "Si vous √™tes c√©libataire, d√©clarez : 'Dieu me pr√©pare et pr√©pare mon conjoint(e). Au temps parfait, nous nous rencontrerons.' Si vous √™tes en couple/mari√©(e) : 'Mon mariage/couple prosp√®re. L'amour de Christ r√®gne dans notre relation.'",
                versets: "Psaume 127:1 ‚Ä¢ Proverbes 3:5-6 ‚Ä¢ Proverbes 18:22 ‚Ä¢ √âph√©siens 5:25-33 ‚Ä¢ Psaume 84:12",
                video: {
                    title: "Our Daily Bread ‚Äì Apostle Joshua Selman",
                    url: "https://www.youtube.com/watch?v=_rGJ7W4wEz4"
                }
            },
            {
                jour: 16,
                theme: "D√©claration proph√©tique - Sant√©",
                objectif: "D√©clarer sur votre sant√© physique et vos relations.",
                rappel: "Votre corps est le temple du Saint-Esprit. Prenez-en soin avec sagesse.",
                action: "D√©clarez : 'Mon corps est en bonne sant√©. Je prends soin de mon temple. Mes relations sont saines et √©difiantes. Dieu me connecte aux bonnes personnes cette ann√©e.'",
                versets: "3 Jean 1:2 ‚Ä¢ Proverbes 27:17 ‚Ä¢ 1 Corinthiens 6:19-20 ‚Ä¢ Psaume 103:2-5 ‚Ä¢ √âsa√Øe 40:31",
                video: {
                    title: "The Gift of Men ‚Äì Apostle Joshua Selman",
                    url: "https://www.youtube.com/watch?v=qY4gxi5Rl3o"
                }
            },
            {
                jour: 17,
                theme: "Intercession territoriale",
                objectif: "Soumettre notre territoire √† Christ et proclamer la lumi√®re sur notre lieu de vie.",
                rappel: "Dieu appelle son peuple √† prier pour l'endroit o√π il vit, m√™me quand le contexte est difficile. Dieu cherche quelqu'un qui se l√®ve pour emp√™cher la destruction et attirer la mis√©ricorde (√âz√©chiel 22:30).",
                action: "Identifiez les d√©fis spirituels, sociaux et moraux de votre ville/r√©gion. Repentez-vous du mal commis sur ce territoire et priez le Sang de Christ pour l'expiation des p√©ch√©s. D√©clarez la seigneurie de Christ et interc√©dez pour les autorit√©s locales, les √©coles, les √©glises et les familles.",
                versets: "2 Chroniques 7:14 ‚Ä¢ Psaume 122:6-9 ‚Ä¢ J√©r√©mie 29:7 ‚Ä¢ 1 Timoth√©e 2:1-2 ‚Ä¢ √âsa√Øe 62:6-7"
            },
            {
                jour: 18,
                theme: "Intercession nation",
                objectif: "Soumettre notre nation √† Christ et proclamer la lumi√®re sur notre pays.",
                rappel: "Dieu appelle son peuple √† prier pour l'endroit o√π il vit, m√™me quand le contexte est difficile. Nous sommes appel√©s √† prier pour ceux qui gouvernent (1 Timoth√©e 2:1-2).",
                action: "Interc√©dez pour les dirigeants de votre nation (pr√©sident, gouvernement, parlementaires). Priez pour la justice, la paix, la sagesse dans les d√©cisions nationales. Repentez-vous des p√©ch√©s collectifs du pays et demandez un r√©veil spirituel. D√©clarez que votre nation accomplira les desseins de Dieu.",
                versets: "1 Timoth√©e 2:1-4 ‚Ä¢ Proverbes 14:34 ‚Ä¢ Psaume 33:12 ‚Ä¢ Daniel 2:21 ‚Ä¢ 2 Chroniques 7:14"
            },
            {
                jour: 19,
                theme: "Intercession internationale",
                objectif: "Prier pour les nations et le r√©veil mondial.",
                rappel: "Dieu d√©sire que tous les hommes soient sauv√©s et parviennent √† la connaissance de la v√©rit√©. Le champ de mission, c'est le monde.",
                action: "Interc√©dez pour les nations en crise, les pays pers√©cut√©s pour leur foi, et les zones o√π l'√âvangile n'est pas encore parvenu. Priez pour les missionnaires et les √©vang√©listes. D√©clarez un r√©veil mondial.",
                versets: "√âsa√Øe 62:6-7 ‚Ä¢ Psaume 2:8 ‚Ä¢ Psaume 67:1-7 ‚Ä¢ Habakuk 2:14 ‚Ä¢ Matthieu 28:19-20 ‚Ä¢ Actes 1:8"
            },
            {
                jour: 20,
                theme: "Louange",
                objectif: "Louer Dieu en signe de foi car vous croyez qu'Il vous a accord√© sa faveur pendant ces jours de pri√®re.",
                rappel: "Tout ce que vous demanderez en priant, croyez que vous l'avez re√ßu et cela vous sera accord√© (Marc 11:24). La louange est une d√©claration de foi avant m√™me de voir la manifestation.",
                action: "Louez Dieu comme si tout ce pour quoi vous avez pri√© √©tait d√©j√† accompli. C√©l√©brez ses promesses par le chant, la danse, les cris de joie. D√©clarez sa fid√©lit√© et magnifiez son nom. Entrez dans une atmosph√®re de victoire anticip√©e.",
                versets: "Psaume 150:1-6 ‚Ä¢ Psaume 100:1-5 ‚Ä¢ Psaume 34:1-3 ‚Ä¢ H√©breux 13:15 ‚Ä¢ √âph√©siens 5:19-20"
            },
            {
                jour: 21,
                theme: "Actions de gr√¢ce",
                objectif: "Faire un acte de foi de remerciements pour cl√¥turer le je√ªne.",
                rappel: "Partout o√π je rappellerai mon nom, je viendrai √† toi, et je te b√©nirai (Exode 20:24). L'action de gr√¢ce attire la pr√©sence et la b√©n√©diction de Dieu.",
                action: "Remerciez Dieu pour ce qu'il a accompli durant ce je√ªne (r√©v√©lations, gu√©risons, d√©livrances, directions re√ßues). √âlevez-lui un autel de reconnaissance par la louange et l'adoration. Profitez-en pour semer sous la direction du Saint-Esprit en offrande de gratitude.",
                versets: "Psaume 107:1 ‚Ä¢ Psaume 118:1 ‚Ä¢ 1 Chroniques 16:34 ‚Ä¢ Colossiens 3:15-17 ‚Ä¢ Philippiens 4:6"
            }
        ];

        let currentDay = null;
        let completedDays = JSON.parse(localStorage.getItem('completedDays') || '[]');
        let notes = JSON.parse(localStorage.getItem('dayNotes') || '{}');

        function initApp() {
            renderDaysGrid();
            updateProgress();
        }

        function renderDaysGrid() {
            const grid = document.getElementById('daysGrid');
            grid.innerHTML = '';

            programData.forEach(day => {
                const card = document.createElement('div');
                const customClass = day.customizable ? 'customizable' : '';
                card.className = `day-card ${completedDays.includes(day.jour) ? 'completed' : ''} ${customClass}`;
                card.onclick = () => openDay(day.jour);
                
                card.innerHTML = `
                    ${completedDays.includes(day.jour) ? '<div class="check-icon">‚úì</div>' : ''}
                    <div class="day-number">Jour ${day.jour}</div>
                    <div class="day-theme">${day.theme}</div>
                    ${day.customizable ? '<div class="customizable-badge">√Ä personnaliser</div>' : ''}
                `;
                
                grid.appendChild(card);
            });
        }

        function openDay(dayNumber) {
            currentDay = dayNumber;
            const day = programData.find(d => d.jour === dayNumber);
            const customData = JSON.parse(localStorage.getItem('customDayData') || '{}');
            
            document.getElementById('modalDayNumber').textContent = `JOUR ${day.jour}`;
            document.getElementById('modalTheme').textContent = day.customizable && customData[dayNumber]?.theme ? customData[dayNumber].theme : day.theme;
            
            let bodyHTML = '';

            if (day.customizable) {
                // Mode personnalisable
                const saved = customData[dayNumber] || {};
                bodyHTML = `
                    <div class="custom-input-section">
                        <div class="section-title">
                            <span class="emoji">‚úèÔ∏è</span>
                            <span>Personnalisez ce jour selon vos besoins spirituels</span>
                        </div>
                        
                        <label style="display: block; margin-top: 15px; font-weight: bold; color: #E67E22;">Th√®me :</label>
                        <input type="text" class="custom-input" id="customTheme" placeholder="Ex: Finances, Sant√© mentale, Minist√®re..." value="${saved.theme || ''}" style="min-height: auto;">
                        
                        <label style="display: block; margin-top: 15px; font-weight: bold; color: #E67E22;">üéØ Objectif :</label>
                        <textarea class="custom-input" id="customObjectif" placeholder="Quel est votre objectif pour ce jour ?" rows="3">${saved.objectif || ''}</textarea>
                        
                        <label style="display: block; margin-top: 15px; font-weight: bold; color: #E67E22;">üí° Rappel biblique :</label>
                        <textarea class="custom-input" id="customRappel" placeholder="Quel principe biblique guide ce th√®me ?" rows="3">${saved.rappel || ''}</textarea>
                        
                        <label style="display: block; margin-top: 15px; font-weight: bold; color: #E67E22;">‚úÖ Actions concr√®tes :</label>
                        <textarea class="custom-input" id="customAction" placeholder="Quelles actions allez-vous entreprendre ?" rows="3">${saved.action || ''}</textarea>
                        
                        <label style="display: block; margin-top: 15px; font-weight: bold; color: #E67E22;">üìñ Versets :</label>
                        <textarea class="custom-input" id="customVersets" placeholder="Ex: Jean 3:16, Psaume 23, etc." rows="2">${saved.versets || ''}</textarea>
                        
                        <button class="btn save-custom-btn" onclick="saveCustomDay()" style="margin-top: 15px;">
                            üíæ Sauvegarder ma personnalisation
                        </button>
                    </div>
                `;

                // Afficher les donn√©es sauvegard√©es si elles existent
                if (saved.objectif) {
                    bodyHTML += `
                        <div style="margin-top: 20px; padding: 15px; background: #E8F5E9; border-radius: 10px;">
                            <h4 style="color: #27AE60; margin-bottom: 10px;">üìã Aper√ßu de votre personnalisation :</h4>
                            ${saved.objectif ? `<p><strong>Objectif :</strong> ${saved.objectif}</p>` : ''}
                            ${saved.rappel ? `<p><strong>Rappel :</strong> ${saved.rappel}</p>` : ''}
                            ${saved.action ? `<p><strong>Action :</strong> ${saved.action}</p>` : ''}
                            ${saved.versets ? `<p><strong>Versets :</strong> ${saved.versets}</p>` : ''}
                        </div>
                    `;
                }
            } else {
                // Mode normal avec contenu pr√©d√©fini
                bodyHTML = `
                    <div class="section">
                        <div class="section-title">
                            <span class="emoji">üéØ</span>
                            <span>Objectif</span>
                        </div>
                        <div class="section-content">${day.objectif}</div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <span class="emoji">üí°</span>
                            <span>Rappel</span>
                        </div>
                        <div class="section-content rappel">${day.rappel}</div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <span class="emoji">‚úÖ</span>
                            <span>Action</span>
                        </div>
                        <div class="section-content">${day.action}</div>
                    </div>

                    <div class="section">
                        <div class="section-title">
                            <span class="emoji">üìñ</span>
                            <span>Versets</span>
                        </div>
                        <div class="section-content versets">${day.versets}</div>
                    </div>
                `;

                if (day.video) {
                    bodyHTML += `
                        <div class="section">
                            <div class="section-title">
                                <span class="emoji">üé•</span>
                                <span>Enseignement recommand√©</span>
                            </div>
                            <a href="${day.video.url}" target="_blank" class="video-link">
                                ‚ñ∂ ${day.video.title}
                            </a>
                        </div>
                    `;
                }
            }

            // Ajouter les boutons de ressources pour tous les jours
            const searchQuery = day.customizable && customData[dayNumber]?.theme ? 
                encodeURIComponent(customData[dayNumber].theme + ' pri√®re chr√©tienne') : 
                encodeURIComponent(day.theme + ' pri√®re chr√©tienne');
            
            bodyHTML += `
                <div class="resources-section">
                    <div class="section-title">
                        <span class="emoji">üéµ</span>
                        <span>Ressources pour votre temps de pri√®re</span>
                    </div>
                    <p style="color: #27AE60; margin-top: 10px;">Trouvez des enseignements, musiques d'adoration et podcasts pour enrichir votre m√©ditation</p>
                    <div class="resource-buttons">
                        <a href="https://www.youtube.com/results?search_query=${searchQuery}" target="_blank" class="resource-btn youtube-btn">
                            <span>‚ñ∂</span>
                            <span>Rechercher sur YouTube</span>
                        </a>
                        <a href="https://open.spotify.com/search/${searchQuery}" target="_blank" class="resource-btn spotify-btn">
                            <span>üéµ</span>
                            <span>Rechercher sur Spotify</span>
                        </a>
                    </div>
                </div>
            `;

            document.getElementById('modalBody').innerHTML = bodyHTML;
            document.getElementById('notesTextarea').value = notes[dayNumber] || '';
            
            updateCompletionButton();
            document.getElementById('modal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function toggleDayCompletion() {
            const index = completedDays.indexOf(currentDay);
            if (index > -1) {
                completedDays.splice(index, 1);
            } else {
                completedDays.push(currentDay);
            }
            localStorage.setItem('completedDays', JSON.stringify(completedDays));
            renderDaysGrid();
            updateProgress();
            updateCompletionButton();
        }

        function updateCompletionButton() {
            const btn = document.getElementById('completionBtnText');
            if (completedDays.includes(currentDay)) {
                btn.textContent = '‚Ü∫ Marquer comme non accompli';
            } else {
                btn.textContent = '‚úì Marquer comme accompli';
            }
        }

        function saveNotes() {
            const noteText = document.getElementById('notesTextarea').value;
            notes[currentDay] = noteText;
            localStorage.setItem('dayNotes', JSON.stringify(notes));
            alert('‚úì Notes sauvegard√©es avec succ√®s !');
        }

        function saveCustomDay() {
            const customData = JSON.parse(localStorage.getItem('customDayData') || '{}');
            
            customData[currentDay] = {
                theme: document.getElementById('customTheme').value,
                objectif: document.getElementById('customObjectif').value,
                rappel: document.getElementById('customRappel').value,
                action: document.getElementById('customAction').value,
                versets: document.getElementById('customVersets').value
            };

            localStorage.setItem('customDayData', JSON.stringify(customData));
            alert('‚úì Personnalisation sauvegard√©e avec succ√®s !');
            
            // Rafra√Æchir l'affichage
            renderDaysGrid();
            openDay(currentDay);
        }

        function updateProgress() {
            const completed = completedDays.length;
            const remaining = 21 - completed;
            const percent = Math.round((completed / 21) * 100);

            document.getElementById('completedDays').textContent = completed;
            document.getElementById('remainingDays').textContent = remaining;
            document.getElementById('progressPercent').textContent = `${percent}%`;
            document.getElementById('progressFill').style.width = `${percent}%`;
            document.getElementById('progressFill').textContent = `${percent}%`;
        }

        function exportNotes() {
            let exportText = '='.repeat(60) + '\n';
            exportText += 'PROGRAMME DE JE√õNE 21 JOURS - MES NOTES\n';
            exportText += '='.repeat(60) + '\n\n';
            exportText += `Date d'export : ${new Date().toLocaleDateString('fr-FR')}\n`;
            exportText += `Jours accomplis : ${completedDays.length}/21\n\n`;

            programData.forEach(day => {
                const hasNotes = notes[day.jour];
                const isCompleted = completedDays.includes(day.jour);
                
                if (hasNotes || isCompleted) {
                    exportText += '-'.repeat(60) + '\n';
                    exportText += `JOUR ${day.jour} - ${day.theme} ${isCompleted ? '‚úì' : ''}\n`;
                    exportText += '-'.repeat(60) + '\n';
                    
                    if (hasNotes) {
                        exportText += `\n${notes[day.jour]}\n\n`;
                    } else {
                        exportText += '\n(Aucune note)\n\n';
                    }
                }
            });

            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `jeune_21_jours_notes_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Initialize app
        initApp();
    </script>
</body>
</html>
